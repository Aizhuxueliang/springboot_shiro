<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <!-- import CSS -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
</head>
<body>
<div id="app">
    <el-tabs :tab-position="tabPosition">
        <el-tab-pane label="用户管理">
            <el-row type="flex" justify="center">
                <el-col :span="18">
                    <el-button :plain="true" @click="queryUserListPage">分页查询用户</el-button>
                    <el-table
                            :data="tableData"
                            border
                            highlight-current-row
                            style="width: 100%">
                        <el-table-column
                                prop="id"
                                label="用户ID">
                        </el-table-column>
                        <el-table-column
                                prop="username"
                                label="用户姓名">
                        </el-table-column>
                    </el-table>
                    <el-pagination
                            layout="total, prev, pager, next, jumper"
                            :total="userRowCount"
                            :page-size="5"
                            :current-page.sync="currentPage"
                            @current-change="queryUserListPage"
                            background>
                    </el-pagination>
                </el-col>
            </el-row>
        </el-tab-pane>

        <el-tab-pane label="角色管理">
            <el-transfer v-model="value1" :data="data1"></el-transfer>
            <el-button type="text" @click="dialogVisible = true">点击打开 Dialog</el-button>
            <el-dialog title="提示" :visible.sync="dialogVisible" width="30%" :before-close="handleClose">
                <span>这是一段信息</span>
                <span slot="footer" class="dialog-footer">
			<el-button @click="dialogVisible = false">取 消</el-button>
			<el-button type="primary" @click="dialogVisible = false">确 定</el-button>
		</span>
            </el-dialog>
        </el-tab-pane>

    </el-tabs>

</div>

</body>
<!-- import Vue before Element -->
<script src="https://unpkg.com/vue@2/dist/vue.js"></script>
<!-- import JavaScript -->
<script src="https://unpkg.com/element-ui/lib/index.js"></script>
<!-- import Axios -->
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
    new Vue({
        el: '#app',
        data: {
            value1: [1, 4],
            data1: [{
                key: 1,
                label: `备选项 1`
            },{
                key: 2,
                label: `备选项 2`
            },{
                key: 3,
                label: `备选项 3`
            },{
                key: 4,
                label: `备选项 4`
            },{
                key: 5,
                label: `备选项 5`
            }],
            dialogVisible: false,
            tableData: [],
            tabPosition: 'top',
            userRowCount: 5,
            currentPage: 1,
            username: 'lao'
        },
        methods: {
            queryUserListPage() {
                <!--ELEMENT.Message('这是一条消息提示');-->
                axios.defaults.headers.post['Content-Type'] = 'application/json';
                axios({
                    method: 'post',
                    url: '/user/queryUserListPage',
                    data: JSON.stringify({
                        username: this.username,
                        reserve1: this.currentPage
                    })
                }).then(response => {
                    this.tableData = response.data.userListPage;
                    this.userRowCount = response.data.userRowCount;
                    console.log(response.data);
                }).catch(error => {
                    console.log(error);
                });
            },
            handleClose(done) {
                ELEMENT.MessageBox.confirm('此操作将永久删除该文件, 是否继续?', '提示', {
                    confirmButtonText: '确定',
                    cancelButtonText: '取消',
                    type: 'warning'
                }).then(() => {
                    ELEMENT.Message({ type: 'success', message: '删除成功!'});
                }).catch(() => {
                    ELEMENT.Message({ type: 'info', message: '已取消删除'});
                });
            }
        }

    })
</script>
<style>
    .el-pagination {
        display: flex;
        justify-content: flex-end;
        align-items: center;
        height: 60px;
    }
</style>
</html>